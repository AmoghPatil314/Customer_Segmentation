---
title: "Mall Customer Segmentation"
execute: 
  echo: false
---

## Introduction
Customer segmentation is a key marketing strategy that divides a customer base into distinct groups with similar characteristics. Using mall customer data, this analysis reveals relationships between age, gender, income, and spending score. The visualizations show that age groups between 18 to 40 have the highest spending scores which reveal that these age groups are most commmon spenders in malls.

## Data Models

The plots below analyze mall customer information, offering insights for brands and companies to enhance marketing efficiency and boost profitability. By understanding customer behavior and preferences, businesses can tailor their strategies, optimize their campaigns, and achieve better results, ultimately leading to increased revenue and customer satisfaction.

```{r}
#| message: false
#| label: setup

library(tidyverse)
library(scales)
library(plotly)
```

This graph identifies the predominant age groups of frequent mall customers, offering valuable insights for businesses and marketing firms to refine their audience targeting strategies.
```{r}
#| message: false
#| warning: false

plot1 <- read_csv("/Users/neera/OneDrive/Documents/Desktop/projects/Customer_Segmentation/Mall_Customers.csv") |>
  drop_na() |>
  ggplot(aes(x = Gender,
             y = Age, 
             fill = Gender)) +
  geom_boxplot(width = 3) +
  geom_violin(alpha = 0.5,
              width = 0.1) +
  scale_y_continuous(limits = c(10, 70), 
                     breaks = seq(10, 70, by = 10)) +
  theme_minimal() +
  labs(title = "Age Distribution by Gender Among Mall Customers",
       subtitle = "Analysis of Age Variations within Gender Groups",
       x = "Gender",
       y = "Age",
       caption = "Source: Mall Customers Dataset") +
  theme(
    plot.title = element_text(size = 16,
                              face = "bold"),
    plot.subtitle = element_text(size = 12),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10),
    legend.position = "top",
    legend.title = element_text(size = 12),
    legend.text = element_text(size = 10))

interactive_plot <- ggplotly(plot1)

interactive_plot
```

This histogram presents the same data as the previous graph but offers a clearer view of the number of frequent age groups.
```{r}
#| warning: false
#| message: false

plot5 <- read_csv("Mall_Customers.csv") |>
  drop_na() |>
  select(`Spending Score (1-100)`,
         Age)

plot <- ggplot(plot5, aes(x = Age, 
                          y = `Spending Score (1-100)`)) +
  geom_point(color = 'blue',
             alpha = 0.6) +
  geom_density2d(color = 'red') +
  geom_smooth(method = 'loess',
              se = FALSE, 
              color = 'green') +
  scale_y_continuous(limits = c(0, 100), 
                     breaks = seq(0, 100, by = 20)) +
  labs(
    title = "Age vs. Spending Score",
    subtitle = "Analyzing the spending behavior across different age groups",
    x = "Age",
    y = "Spending Score (1-100)"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 16, face = "bold"),
    plot.subtitle = element_text(size = 14),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )

interactive_plot <- ggplotly(plot, tooltip = c("x", "y"))

interactive_plot
```

